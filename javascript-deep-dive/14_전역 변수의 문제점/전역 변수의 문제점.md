# 전역 변수의 문제점

전역 변수를 반드시 사용해야 할 이유를 찾지 못한다면 징겨 변수를 사용하는게 좋습니다.

## 변수의 생명 주기

### 지역 변수의 생명 주기

변수는 선언에 의해 생성되고 할당을 통해 값을 갖으며 언젠간 소멸합니다. 즉, 변수는 생명주기가 있습니다.  
지역 변수는 함수가 호출되면 생성되고 함수가 종료하면 소멸합니다.

```js
function foo() {
  var x = 'local';
  console.log(x);
  return x;
}

foo();
console.log(x); // ReferenceError: x is not defined
```

변수 선언은 코드가 한 줄씩 순차적으로 실행되는 시점인 런타임에 실행되는 것이 아니라 런타임 이전 단계에서 자바스크립트 엔진에 의해 먼저 실행됩니다.

위 예제의 foo 함수를 호출하면 함수 몸체의 다른 문들이 순차적으로 실행되기 이전에 x 변수의 선언문이 `자바스크립트 엔진에 의해 가장 먼저 실행되어 x 변수가 undefined로 초기화` 됩니다.

그 후, 함수 몸체를 구성하는 문들이 `순차적으로 실행되고 x 변수에 값이 할당` 됩니다. 그리고` 함수가 종료하면 x 변수도 소멸되어 생명 주기가 종료`됩니다.

```js
var x = 'global';

function foo() {
  console.log(x); // 1️⃣ undefined

  var x = 'local';

  console.log(x); // 2️⃣ local
}

foo();
console.log(x); // global
```

위의 예제에서 foo() 함수 안에 선언된 x 변수는 각각 `undefined`, `local`의 값을 출력합니다.  
그 이유는 자바스크립트의 고유 특징인 `호이스팅` 때문이라고 할 수 있습니다.
