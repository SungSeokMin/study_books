# ğŸŒŠ TL;DR

### ë””ìì¸ ì›ì¹™

- OCP(Open-Closed Principle): í´ë˜ìŠ¤ëŠ” í™•ì¥ì—ëŠ” ì—´ë ¤ ìˆì–´ì•¼ í•˜ì§€ë§Œ ë³€ê²½ì—ëŠ” ë‹«í˜€ ìˆì–´ì•¼ í•œë‹¤.

### ë°ì½”ë ˆì´í„° íŒ¨í„´

- ê°ì²´ì— ì¶”ê°€ ìš”ì†Œë¥¼ ë™ì ìœ¼ë¡œ ë”í•  ìˆ˜ ìˆë‹¤.
- ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•Œë³´ë‹¤ í›¨ì”¬ ìœ ì—°í•˜ê²Œ ê¸°ëŠ¥ì„ í™•ì¥í•  ìˆ˜ ìˆë‹¤.

### ë°ì½”ë ˆì´í„°

- **ë°ì½”ë ˆì´í„°ëŠ” ìì‹ ì´ ì¥ì‹í•˜ê³  ìˆëŠ” ê°ì²´ì—ê²Œ ì–´ë–¤ í–‰ë™ì„ ìœ„ì„í•˜ëŠ” ì¼ ë§ê³ ë„ ì¶”ê°€ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.**
- ë°ì½”ë ˆì´í„°ì˜ ìŠˆí¼í´ë˜ìŠ¤ëŠ” ìì‹ ì´ ì¥ì‹í•˜ê³  ìˆëŠ” ê°ì²´ì˜ ìŠˆí¼í´ë˜ìŠ¤ì™€ ê°™ë‹¤.
- í•œ ê°ì²´ë¥¼ ì—¬ëŸ¬ ê°œì˜ ë°ì½”ë ˆì´í„°ë¡œ ê°ì‹¹ ìˆ˜ ìˆë‹¤.
- ê°ì²´ëŠ” ì–¸ì œë“ ì§€ ê°ìŒ€ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì‹¤í–‰ ì¤‘ì— í•„ìš”í•œ ë°ì½”ë ˆì´í„°ë¥¼ ë§ˆìŒëŒ€ë¡œ ì ìš©í•  ìˆ˜ ìˆë‹¤.

# ğŸ­ ì‹œë‚˜ë¦¬ì˜¤

> ìŠ¤íƒ€ë²„ì¦ˆ ì¹´í˜ì˜ ì£¼ë¬¸ ì‹œìŠ¤í…œì„ ê°œì„ í•œë‹¤.

- BeveraveëŠ” ìŒë£Œë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ì´ë©° ë§¤ì¥ì—ì„œ íŒë§¤ë˜ëŠ” ëª¨ë“  ìŒë£ŒëŠ” ì´ í´ë˜ìŠ¤ì˜ ì„œë¸Œí´ë˜ìŠ¤ê°€ ëœë‹¤.
- cost() ë©”ì†Œë“œëŠ” ì¶”ìƒ ë©”ì†Œë“œì´ë©°, ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì´ ë©”ì†Œë“œë¥¼ êµ¬í˜„í•´ì„œ ìƒˆë¡œ ì •ì˜í•´ì•¼ í•œë‹¤.

```java
public abstract class Beverage {
  String description = "Unknown Beverage";

  public String getDescription() {
    return description;
  }

  public abstract double cost();
}
```

> ê³ ê°ì´ ì»¤í”¼ë¥¼ ì£¼ë¬¸í•  ë•Œ ìƒ· ì¶”ê°€, íœ˜í•‘í¬ë¦¼ ë“± ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

- ê°ê°ì„ ì¶”ê°€í•  ë•Œë§ˆë‹¤ ì»¤í”¼ ê°€ê²©ì´ ì˜¬ë¼ê°€ì•¼ í•˜ê¸°ì— ì£¼ë¬¸ ì‹œìŠ¤í…œì„ êµ¬í˜„í•  ë•Œ ì•„ë˜ì™€ ê°™ì´ ë§Œë“¤ì—ˆë‹¤.

```java
class HouseBlendWithMilkandMocha extends Beverage {}
class HouseBlendWithMilkandMochaandCaramel extends Beverage {}
class HouseBlendWithMilkandMochaandCaramelandOneShot extends Beverage {}
...
```

> **âŒë¬¸ì œ ë°œìƒâŒ: ë„ˆë¬´ ë§ì€ í´ë˜ìŠ¤ë“¤ì´ ì¶”ê°€ë˜ì—ˆë‹¤.**

# ğŸ“Œ ë°ì½”ë ˆì´í„° íŒ¨í„´ (Decorator Pattern)

- ê°ì²´ì— ì¶”ê°€ ìš”ì†Œë¥¼ ë™ì ìœ¼ë¡œ ë”í•  ìˆ˜ ìˆë‹¤.
- ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•Œë³´ë‹¤ í›¨ì”¬ ìœ ì—°í•˜ê²Œ ê¸°ëŠ¥ì„ í™•ì¥í•  ìˆ˜ ìˆë‹¤.

### ë°ì½”ë ˆì´í„°

- **ë°ì½”ë ˆì´í„°ëŠ” ìì‹ ì´ ì¥ì‹í•˜ê³  ìˆëŠ” ê°ì²´ì—ê²Œ ì–´ë–¤ í–‰ë™ì„ ìœ„ì„í•˜ëŠ” ì¼ ë§ê³ ë„ ì¶”ê°€ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.**
- ë°ì½”ë ˆì´í„°ì˜ ìŠˆí¼í´ë˜ìŠ¤ëŠ” ìì‹ ì´ ì¥ì‹í•˜ê³  ìˆëŠ” ê°ì²´ì˜ ìŠˆí¼í´ë˜ìŠ¤ì™€ ê°™ë‹¤.
- í•œ ê°ì²´ë¥¼ ì—¬ëŸ¬ ê°œì˜ ë°ì½”ë ˆì´í„°ë¡œ ê°ì‹¹ ìˆ˜ ìˆë‹¤.
- ê°ì²´ëŠ” ì–¸ì œë“ ì§€ ê°ìŒ€ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì‹¤í–‰ ì¤‘ì— í•„ìš”í•œ ë°ì½”ë ˆì´í„°ë¥¼ ë§ˆìŒëŒ€ë¡œ ì ìš©í•  ìˆ˜ ìˆë‹¤.

## ì£¼ë¬¸ ì‹œìŠ¤í…œì— ë°ì½”ë ˆì´í„° íŒ¨í„´ ì ìš©í•˜ê¸°

1. DarkRoast ê°ì²´ë¥¼ ì£¼ë¬¸í•œë‹¤.
   - Beverageë¡œë¶€í„° ìƒì†ë°›ìœ¼ë¯€ë¡œ ìŒë£Œì˜ ê°€ê²©ì„ ê³„ì‚°í•˜ëŠ” cost() ë©”ì†Œë“œë¥¼ ê°€ì§€ê³  ìˆë‹¤..
2. ê³ ê°ì´ ëª¨ì¹´ë¥¼ ì£¼ë¬¸í–ˆìœ¼ë‹ˆ Mocha ê°ì²´ë¥¼ ë§Œë“¤ê³  ê·¸ ê°ì²´ë¡œ DarkRoastë¥¼ ê°ì‹¼ë‹¤.
   - Mocha ê°ì²´ëŠ” ë°ì½”ë ˆì´í„°ì´ë‹¤.
3. ê³ ê°ì´ íœ˜í•‘í¬ë¦¼ë„ ì¶”ê°€í–ˆìœ¼ë‹ˆ Whip ë°ì½”ë ˆì´í„°ë¥¼ ë§Œë“¤ì–´ Mochaë¥¼ ê°ì‹¼ë‹¤.
4. ê°€ì¥ ë°”ê¹¥ìª½ì— ìˆëŠ” ë°ì½”ë ˆì´í„°(Whip)ì˜ cost()ë¥¼ í˜¸ì¶œí•œë‹¤. Whipì€ ê·¸ ê°ì²´ê°€ ì¥ì‹í•˜ê³  ìˆëŠ” ê°ì²´ì—ê²Œ ê°€ê²© ê³„ì‚°ì„ ìœ„ì„í•˜ê²Œ ë˜ê³  ê³„ì‚°ëœ ê°€ê²©ì— Whipì˜ ê°€ê²©ì„ ë”í•œ ë‹¤ìŒ ê·¸ ê²°ê³¼ê°’ì„ ë¦¬í„´í•œë‹¤.

![ì£¼ë¬¸ ì‹œìŠ¤í…œì— ë°ì½”ë ˆì´í„° íŒ¨í„´ ì ìš©í•˜ê¸°](https://github.com/SungSeokMin/book_design-patterns/assets/72539723/486544b2-dfcf-4a39-abb4-fe18c1b2ad8c)

## ì»¤í”¼ ì£¼ë¬¸ ì‹œìŠ¤í…œ ì½”ë“œ ë§Œë“¤ê¸°

### ìŒë£Œ í´ë˜ìŠ¤ êµ¬í˜„

```java
public abstract class Beverage {
  String description = "ì„¤ëª… ì—†ìŒ";

  public String getDescription() {
    return description;
  }

  public abstract double cost();
}
```

### ì²¨ê°€ë¬¼ ì¶”ìƒ í´ë˜ìŠ¤ êµ¬í˜„

```java
public abstract class CondimentDecorator extends Beverage {
  Beverage beverage;

  public abstract String getDescription();
}
```

### ìŒë£Œ ì½”ë“œ êµ¬í˜„

```java
public class Espresso extends Beverage {

  public Espresso() {
    description = "Espresso";
  }

  public double cost() {
    return 1.99;
  }
}

public class HouseBlend extends Beverage {
  public HouseBlend() {
    description = "House Blend Coffee";
  }

  public double cost() {
    return .89;
  }
}
```

### ì²¨ê°€ë¬¼ ì½”ë“œ êµ¬í˜„

```java
public class Mocha extends CondimentDecorator {
  public Mocha(Beverage beverage) {
    this.beverage = beverage;
  }

  public String getDescription() {
    return beverage.getDescription() + ", ëª¨ì¹´";
  }

  public double cost() {
    return .20 + beverage.cost();
  }
}
```
